<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI ÃœrÃ¼n AÃ§Ä±klayÄ±cÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 min-h-screen flex items-center justify-center px-4">
    <div class="bg-white p-6 rounded-xl shadow-xl w-full max-w-md">
      <h1 class="text-2xl font-bold mb-4 text-center">ğŸ›ï¸ AI ÃœrÃ¼n AÃ§Ä±klayÄ±cÄ±</h1>
      <label for="language" class="block mb-2 font-medium"
        >AÃ§Ä±klama Dili:</label
      >
      <select id="language" class="w-full p-3 border rounded mb-4">
        <option value="tr">TÃ¼rkÃ§e</option>
        <option value="en">English</option>
      </select>
      <label for="category" class="block mb-2 font-medium"
        >ÃœrÃ¼n Kategorisi:</label
      >
      <select id="category" class="w-full p-3 border rounded mb-4">
        <option value="diÄŸer">DiÄŸer</option>
        <option value="giyim">Giyim</option>
        <option value="ayakkabÄ±">AyakkabÄ±</option>
        <option value="aksesuar">Aksesuar</option>
        <option value="elektronik">Elektronik</option>
        <option value="bilgisayar">Bilgisayar / Tablet</option>
        <option value="telefon">Telefon / Aksesuar</option>
        <option value="ev">Ev ÃœrÃ¼nleri</option>
        <option value="mutfak">Mutfak GereÃ§leri</option>
        <option value="mobilya">Mobilya</option>
        <option value="dekorasyon">Dekorasyon</option>
        <option value="kozmetik">Kozmetik</option>
        <option value="kiÅŸisel bakÄ±m">KiÅŸisel BakÄ±m</option>
        <option value="kitap">Kitap</option>
        <option value="oyuncak">Oyuncak</option>
        <option value="bebek">Bebek ÃœrÃ¼nleri</option>
        <option value="anne">Anne ÃœrÃ¼nleri</option>
        <option value="spor">Spor / Outdoor</option>
        <option value="evcil">Evcil Hayvan ÃœrÃ¼nleri</option>
        <option value="otomobil">Otomobil AksesuarlarÄ±</option>
      </select>

      <label for="length" class="block mb-2 font-medium"
        >AÃ§Ä±klama UzunluÄŸu:</label
      >
      <select id="length" class="w-full p-3 border rounded mb-4">
        <option value="kÄ±sa">KÄ±sa (1â€“2 cÃ¼mle)</option>
        <option value="orta" selected>Orta (3â€“5 cÃ¼mle)</option>
        <option value="uzun">Uzun (detaylÄ± aÃ§Ä±klama)</option>
      </select>

      <input
        id="productInput"
        type="text"
        placeholder="ÃœrÃ¼n adÄ±nÄ± yazÄ±n..."
        class="w-full p-3 border rounded mb-4"
      />
      <button
        id="generateBtn"
        class="w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700 transition font-semibold"
      >
        AÃ§Ä±klama OluÅŸtur
      </button>
      <div id="result" class="mt-6 text-gray-700 whitespace-pre-wrap"></div>
      <button
        id="copyBtn"
        class="hidden w-full bg-green-600 text-white p-2 rounded-md hover:bg-green-700 transition font-medium mt-4"
      >
        AÃ§Ä±klamayÄ± Kopyala
      </button>
      <a
        href="https://www.buymeacoffee.com/enginkayalw"
        target="_blank"
        class="flex justify-center mt-6 text-center"
      >
        <img
          src="./images/yellow-button.png"
          alt="Buy Me a Coffee"
          style="height: 50px; width: auto"
        />
      </a>
    </div>

    <script>
      document
        .getElementById("generateBtn")
        .addEventListener("click", async () => {
          const productName = document
            .getElementById("productInput")
            .value.trim();
          const lang = document.getElementById("language").value;
          const category = document.getElementById("category").value;

          const copyBtn = document.getElementById("copyBtn");

          if (!productName) {
            alert("LÃ¼tfen bir Ã¼rÃ¼n adÄ± girin.");
            return;
          }

          document.getElementById("result").innerText = "AI yazÄ±yor...";
          copyBtn.classList.add("hidden"); // Ã¶nce gizle

          const systemPrompt =
            lang === "tr"
              ? "Sen bir e-ticaret metin yazarÄ± AI'sÄ±sÄ±n. KullanÄ±cÄ± sana bir Ã¼rÃ¼n adÄ± verecek ve sen ona kÄ±sa ama ikna edici bir Ã¼rÃ¼n aÃ§Ä±klamasÄ± yazacaksÄ±n. Dil: TÃ¼rkÃ§e."
              : "You are an AI e-commerce copywriter. The user will give you a product name, and you will return a short but compelling product description in English.";

          const userPrompt =
            lang === "tr"
              ? `ÃœrÃ¼n adÄ±: ${productName}. Kategori: ${category}. AÃ§Ä±klama uzunluÄŸu: ${length}.`
              : `Product name: ${productName}. Category: ${category}. Description length: ${length}.`;

          try {
            const response = await fetch(
              "https://api.groq.com/openai/v1/chat/completions",
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                  Authorization:
                    "Bearer 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",
                },
                body: JSON.stringify({
                  model: "llama3-8b-8192",
                  messages: [
                    { role: "system", content: systemPrompt },
                    { role: "user", content: userPrompt },
                  ],
                }),
              }
            );

            const data = await response.json();
            const result =
              data?.choices?.[0]?.message?.content ||
              "AI'dan anlamlÄ± yanÄ±t alÄ±namadÄ±.";

            document.getElementById("result").innerText = result;
            copyBtn.classList.remove("hidden"); // baÅŸarÄ±yla geldiyse butonu gÃ¶ster
          } catch (error) {
            console.error("Hata:", error);
            document.getElementById("result").innerText =
              "Bir hata oluÅŸtu: " + error.message;
          }
        });

      document.getElementById("copyBtn").addEventListener("click", () => {
        const text = document.getElementById("result").innerText;
        navigator.clipboard
          .writeText(text)
          .then(() => {
            const btn = document.getElementById("copyBtn");
            btn.innerText = "âœ”ï¸ KopyalandÄ±!";
            setTimeout(() => {
              btn.innerText = "AÃ§Ä±klamayÄ± Kopyala";
            }, 2000);
          })
          .catch((err) => {
            alert("Kopyalama baÅŸarÄ±sÄ±z: " + err);
          });
      });
    </script>
  </body>
</html>
