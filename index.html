<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI ÃœrÃ¼n AÃ§Ä±klayÄ±cÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-[url('https://picsum.photos/1920/1080')] bg-cover bg-center bg-no-repeat bg-fixed min-h-screen m-0 flex items-center justify-center p-6"
  >
    <div class="bg-gray-100/50 p-6 rounded-xl shadow-2xl w-full max-w-xl">
      <h1 class="text-3xl text-black font-bold mb-4 text-center">
        ğŸ›ï¸ ÃœrÃ¼nÃ¼nÃ¼zÃ¼ AI AnlatsÄ±n!
      </h1>
      <p class="text-md text-black mb-2">
        Yapay zekÃ¢ destekli aÃ§Ä±klamalarla Ã¼rÃ¼nlerinizi saniyeler iÃ§inde
        etkileyici bir ÅŸekilde tanÄ±tan, profesyonel metinler hazÄ±rlayÄ±n.
      </p>
      <label for="language" class="block mb-2 font-medium"
        >AÃ§Ä±klama Dili:</label
      >
      <select id="language" class="w-full p-3 border rounded mb-4">
        <option value="tr">TÃ¼rkÃ§e</option>
        <option value="en">English</option>
      </select>
      <label for="category" class="block mb-2 font-medium"
        >ÃœrÃ¼n Kategorisi:</label
      >
      <select id="category" class="w-full p-3 border rounded mb-4">
        <option value="diÄŸer">DiÄŸer</option>
        <option value="giyim">Giyim</option>
        <option value="ayakkabÄ±">AyakkabÄ±</option>
        <option value="aksesuar">Aksesuar</option>
        <option value="elektronik">Elektronik</option>
        <option value="bilgisayar">Bilgisayar / Tablet</option>
        <option value="telefon">Telefon / Aksesuar</option>
        <option value="ev">Ev ÃœrÃ¼nleri</option>
        <option value="mutfak">Mutfak GereÃ§leri</option>
        <option value="mobilya">Mobilya</option>
        <option value="dekorasyon">Dekorasyon</option>
        <option value="kozmetik">Kozmetik</option>
        <option value="kiÅŸisel bakÄ±m">KiÅŸisel BakÄ±m</option>
        <option value="kitap">Kitap</option>
        <option value="oyuncak">Oyuncak</option>
        <option value="bebek">Bebek ÃœrÃ¼nleri</option>
        <option value="anne">Anne ÃœrÃ¼nleri</option>
        <option value="spor">Spor / Outdoor</option>
        <option value="evcil">Evcil Hayvan ÃœrÃ¼nleri</option>
        <option value="otomobil">Otomobil AksesuarlarÄ±</option>
      </select>

      <label for="length" class="block mb-2 font-medium"
        >AÃ§Ä±klama UzunluÄŸu:</label
      >
      <select id="length" class="w-full p-3 border rounded mb-4">
        <option value="kÄ±sa">KÄ±sa (1â€“2 cÃ¼mle)</option>
        <option value="orta" selected>Orta (3â€“5 cÃ¼mle)</option>
        <option value="uzun">Uzun (detaylÄ± aÃ§Ä±klama)</option>
      </select>

      <input
        id="productInput"
        type="text"
        placeholder="ÃœrÃ¼n adÄ±nÄ± yazÄ±n..."
        class="w-full p-3 border rounded mb-4"
      />
      <!-- ÃœrÃ¼n AÃ§Ä±klamasÄ± Butonu -->
      <button
        id="generateBtn"
        class="w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700 transition font-semibold flex items-center justify-center gap-2"
      >
        <span id="btnText">AÃ§Ä±klama OluÅŸtur</span>
        <svg
          id="btnSpinner"
          class="animate-spin h-5 w-5 text-white hidden"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
          ></path>
        </svg>
      </button>

            <div
        id="result"
        class="mt-4 p-4 border rounded text-sm bg-gray-100 whitespace-pre-line hidden"
      ></div>
      <div id="descActions" class="mt-2 flex justify-center gap-2 hidden">
        <button
          id="copyBtn"
          class="bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded text-sm"
        >
          Kopyala
        </button>
        <button
          id="downloadDesc"
          class="bg-gray-700 hover:bg-black text-white py-1 px-3 rounded text-sm"
        >
          Ä°ndir
        </button>
      </div>

      <!-- Instagram Postu OluÅŸtur Butonu -->
      <button
        id="generateInsta"
        class="w-full mt-4 bg-pink-600 hover:bg-pink-700 text-white font-bold p-3 rounded flex items-center justify-center gap-2"
      >
        <span id="instaBtnText">Instagram Postu OluÅŸtur</span>
        <svg
          id="instaBtnSpinner"
          class="animate-spin h-5 w-5 text-white hidden"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
          ></path>
        </svg>
      </button>

            <div
        id="instaResult"
        class="mt-4 p-4 border rounded text-sm bg-gray-100 whitespace-pre-line hidden"
      ></div>
      <div id="instaActions" class="mt-2 flex justify-center gap-2 hidden">
        <button
          id="copyInsta"
          class="bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded text-sm"
        >
          Kopyala
        </button>
        <button
          id="downloadInsta"
          class="bg-gray-700 hover:bg-black text-white py-1 px-3 rounded text-sm"
        >
          Ä°ndir
        </button>
      </div>

      <!-- SEO Metni OluÅŸtur Butonu -->
      <button
        id="generateSEO"
        class="w-full mt-4 bg-green-600 hover:bg-green-700 text-white font-bold p-3 rounded flex items-center justify-center gap-2"
      >
        <span id="seoBtnText">SEO Metni OluÅŸtur</span>
        <svg
          id="seoBtnSpinner"
          class="animate-spin h-5 w-5 text-white hidden"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
          ></path>
        </svg>
      </button>

      <div
        id="seoResult"
        class="mt-4 p-4 border rounded text-sm bg-gray-100 whitespace-pre-line hidden"
      ></div>
      <div id="seoActions" class="mt-2 flex justify-center gap-2 hidden">
        <button
          id="copySEO"
          class="bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded text-sm"
        >
          Kopyala
        </button>
        <button
          id="downloadSEO"
          class="bg-gray-700 hover:bg-black text-white py-1 px-3 rounded text-sm"
        >
          Ä°ndir
        </button>
      </div>

      <a
        href="https://www.buymeacoffee.com/enginkayalw"
        target="_blank"
        class="flex justify-center mt-6 text-center"
      >
        <img
          src="./images/yellow-button.png"
          alt="Buy Me a Coffee"
          style="height: 50px; width: auto"
        />
      </a>
    </div>

    <script>
      // Ortak indirme fonksiyonu
      function downloadText(filename, text) {
        const blob = new Blob([text], { type: "text/plain" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = filename;
        link.click();
      }

      // Butonlar ve spinnerlar
      const generateBtn = document.getElementById("generateBtn");
      const btnText = document.getElementById("btnText");
      const btnSpinner = document.getElementById("btnSpinner");

      const generateInstaBtn = document.getElementById("generateInsta");
      const instaBtnText = document.getElementById("instaBtnText");
      const instaBtnSpinner = document.getElementById("instaBtnSpinner");

      const generateSEOBtn = document.getElementById("generateSEO");
      const seoBtnText = document.getElementById("seoBtnText");
      const seoBtnSpinner = document.getElementById("seoBtnSpinner");

      // Fonksiyon: Loading baÅŸlat
      function startLoading(btn, textEl, spinnerEl) {
        spinnerEl.classList.remove("hidden");
        textEl.classList.add("hidden");
        btn.disabled = true;
        btn.classList.add("cursor-not-allowed", "opacity-60");
      }

      // Fonksiyon: Loading bitir
      function stopLoading(btn, textEl, spinnerEl) {
        spinnerEl.classList.add("hidden");
        textEl.classList.remove("hidden");
        btn.disabled = false;
        btn.classList.remove("cursor-not-allowed", "opacity-60");
      }

      // ÃœrÃ¼n AÃ§Ä±klamasÄ± Ãœret
      generateBtn.addEventListener("click", async () => {
        const productName = document
          .getElementById("productInput")
          .value.trim();
        const category = document.getElementById("category")?.value || "genel";
        const length = document.getElementById("length")?.value || "orta";

        if (!productName) return alert("LÃ¼tfen Ã¼rÃ¼n adÄ±nÄ± girin.");

        startLoading(generateBtn, btnText, btnSpinner);

        try {
          const prompt = `ÃœrÃ¼n adÄ±: ${productName}. Kategori: ${category}. AÃ§Ä±klama uzunluÄŸu: ${length}.`;
          const response = await fetch("/api/groq-proxy", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              model: "llama3-8b-8192",
              messages: [
                {
                  role: "system",
                  content:
                    "Sen bir e-ticaret metin yazarÄ± AI'sÄ±sÄ±n. KullanÄ±cÄ± sana bir Ã¼rÃ¼n adÄ± verecek ve sen ona kÄ±sa ama ikna edici bir Ã¼rÃ¼n aÃ§Ä±klamasÄ± yazacaksÄ±n. Dil: TÃ¼rkÃ§e.",
                },
                {
                  role: "user",
                  content: prompt,
                },
              ],
            }),
          });

          const data = await response.json();
          const result = data.choices?.[0]?.message?.content;

          document.getElementById("result").innerText =
            result || "Bir ÅŸeyler ters gitti ğŸ˜•";
          document.getElementById("result").classList.remove("hidden");
          document.getElementById("descActions").classList.remove("hidden");
        } catch (error) {
          alert("Ä°stek sÄ±rasÄ±nda hata oluÅŸtu.");
        } finally {
          stopLoading(generateBtn, btnText, btnSpinner);
        }
      });

      // Instagram Postu Ãœret
      generateInstaBtn.addEventListener("click", async () => {
        const productName = document
          .getElementById("productInput")
          .value.trim();
        const category = document.getElementById("category")?.value || "genel";
        const length = document.getElementById("length")?.value || "orta";

        if (!productName) return alert("LÃ¼tfen Ã¼rÃ¼n adÄ±nÄ± girin.");

        startLoading(generateInstaBtn, instaBtnText, instaBtnSpinner);

        try {
          const prompt = `ÃœrÃ¼n adÄ±: ${productName}. Kategori: ${category}. AÃ§Ä±klama uzunluÄŸu: ${length}.`;

          const response = await fetch("/api/groq-proxy", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              model: "llama3-8b-8192",
              messages: [
                {
                  role: "system",
                  content:
                    "Sen bir e-ticaret sosyal medya uzmanÄ± AI'sÄ±n. KullanÄ±cÄ±nÄ±n verdiÄŸi Ã¼rÃ¼n bilgilerine gÃ¶re etkileyici bir Instagram postu ve alakalÄ± hashtag'ler Ã¼ret. Sadece TÃ¼rkÃ§e yaz. Ä°lk satÄ±ra Instagram post metnini yaz, ikinci satÄ±ra 'Hashtagler:' yazÄ±p hashtag listesini sÄ±rala.",
                },
                {
                  role: "user",
                  content: prompt,
                },
              ],
            }),
          });

          const data = await response.json();
          const result = data.choices?.[0]?.message?.content;

          document.getElementById("instaResult").innerText =
            result || "Bir ÅŸeyler ters gitti ğŸ˜•";
          document.getElementById("instaResult").classList.remove("hidden");
          document.getElementById("instaActions").classList.remove("hidden");
        } catch (error) {
          alert("Ä°stek sÄ±rasÄ±nda hata oluÅŸtu.");
        } finally {
          stopLoading(generateInstaBtn, instaBtnText, instaBtnSpinner);
        }
      });

      // SEO Metni Ãœret
      generateSEOBtn.addEventListener("click", async () => {
        const productName = document
          .getElementById("productInput")
          .value.trim();
        const category = document.getElementById("category")?.value || "genel";
        const length = document.getElementById("length")?.value || "orta";

        if (!productName) return alert("LÃ¼tfen Ã¼rÃ¼n adÄ±nÄ± girin.");

        startLoading(generateSEOBtn, seoBtnText, seoBtnSpinner);

        try {
          const prompt = `ÃœrÃ¼n adÄ±: ${productName}. Kategori: ${category}. AÃ§Ä±klama uzunluÄŸu: ${length}. SEO baÅŸlÄ±k ve aÃ§Ä±klama Ã¼ret.`;

          const response = await fetch("/api/groq-proxy", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              model: "llama3-8b-8192",
              messages: [
                {
                  role: "system",
                  content:
                    "Sen bir e-ticaret SEO uzmanÄ± AI'sÄ±n. Verilen Ã¼rÃ¼n bilgilerine gÃ¶re TÃ¼rkÃ§e bir SEO meta baÅŸlÄ±ÄŸÄ± (60 karakteri geÃ§mesin) ve ardÄ±ndan bir meta aÃ§Ä±klama (150â€“160 karakter) Ã¼ret. Åu formatÄ± koru:\n\nMeta Title: ...\nMeta Description: ...",
                },
                {
                  role: "user",
                  content: prompt,
                },
              ],
            }),
          });

          const data = await response.json();
          const result = data.choices?.[0]?.message?.content;

          document.getElementById("seoResult").innerText =
            result || "Bir ÅŸeyler ters gitti ğŸ˜•";
          document.getElementById("seoResult").classList.remove("hidden");
          document.getElementById("seoActions").classList.remove("hidden");
        } catch (error) {
          alert("Ä°stek sÄ±rasÄ±nda hata oluÅŸtu.");
        } finally {
          stopLoading(generateSEOBtn, seoBtnText, seoBtnSpinner);
        }
      });

      // Kopyala / Ä°ndir Ä°ÅŸlemleri
      document.getElementById("copyBtn").addEventListener("click", () => {
        const content = document.getElementById("result").innerText;
        navigator.clipboard.writeText(content);
        alert("AÃ§Ä±klama kopyalandÄ±!");
      });

      document.getElementById("downloadDesc").addEventListener("click", () => {
        const content = document.getElementById("result").innerText;
        downloadText("urun_aciklamasi.txt", content);
      });

      document.getElementById("copyInsta").addEventListener("click", () => {
        const content = document.getElementById("instaResult").innerText;
        navigator.clipboard.writeText(content);
        alert("Instagram iÃ§eriÄŸi kopyalandÄ±!");
      });

      document.getElementById("downloadInsta").addEventListener("click", () => {
        const content = document.getElementById("instaResult").innerText;
        downloadText("instagram_icerigi.txt", content);
      });

      document.getElementById("copySEO").addEventListener("click", () => {
        const content = document.getElementById("seoResult").innerText;
        navigator.clipboard.writeText(content);
        alert("SEO metni kopyalandÄ±!");
      });

      document.getElementById("downloadSEO").addEventListener("click", () => {
        const content = document.getElementById("seoResult").innerText;
        downloadText("seo_metni.txt", content);
      });
    </script>
  </body>
</html>
